<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Louise ‚ù§Ô∏è</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Patrick+Hand&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Patrick Hand', cursive;
            background: linear-gradient(145deg, #fce4e4 0%, #ffe9e9 50%, #fef0f0 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Hearts Cursor Effect */
        .heart-cursor {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            font-size: 20px;
            animation: floatUp 1.5s ease-out forwards;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0.5);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(1.2);
            }
        }

        .container {
            max-width: 1200px;
            width: 100%;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 30px;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Polaroid Frames */
        .polaroid {
            flex: 1 1 300px;
            min-width: 280px;
            max-width: 450px;
            background: #fff9f9;
            padding: 15px 15px 35px 15px;
            border-radius: 8px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .polaroid:hover {
            transform: translateY(-10px) rotate(1deg);
            box-shadow: 0 25px 40px rgba(255, 105, 180, 0.3);
        }

        .polaroid.left {
            transform: rotate(-1deg);
        }

        .polaroid.right {
            transform: rotate(1deg);
        }

        .polaroid.left:hover {
            transform: rotate(0deg) translateY(-10px);
        }

        .polaroid.right:hover {
            transform: rotate(0deg) translateY(-10px);
        }

        /* Photo Container */
        .photo-container {
            width: 100%;
            aspect-ratio: 1/1;
            background: #e0d5d5;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
            display: block;
        }

        .polaroid:hover .photo {
            transform: scale(1.05);
        }

        /* Hover Text */
        .hover-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            color: #ff6b8b;
            padding: 12px 24px;
            border-radius: 50px;
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
            border: 2px solid white;
            pointer-events: none;
            white-space: nowrap;
        }

        .polaroid:hover .hover-text {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.1);
        }

        /* Caption */
        .caption {
            text-align: center;
            margin-top: 15px;
            font-family: 'Caveat', cursive;
            font-size: 1.6rem;
            color: #5a4e4e;
            border-top: 1px dashed #ffb6c1;
            padding-top: 10px;
        }

        .caption i {
            color: #ff6b8b;
            margin: 0 5px;
        }

        /* Tape Effect */
        .tape {
            position: absolute;
            top: -10px;
            width: 50px;
            height: 25px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 2px;
            transform: rotate(-5deg);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .left .tape {
            left: 20px;
        }

        .right .tape {
            right: 20px;
            transform: rotate(5deg);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-content {
            background: #fff5f5;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 30px;
            border-radius: 20px;
            position: relative;
            border: 5px solid white;
            animation: modalOpen 0.4s ease;
        }

        @keyframes modalOpen {
            from {
                opacity: 0;
                transform: scale(0.7);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2rem;
            cursor: pointer;
            color: #ff6b8b;
            transition: transform 0.2s;
        }

        .close-modal:hover {
            transform: scale(1.2);
        }

        .modal-title {
            font-family: 'Caveat', cursive;
            font-size: 2.2rem;
            color: #ff6b8b;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px dashed #ffb6c1;
            padding-bottom: 10px;
        }

        /* Typewriter Effect */
        .typewriter-text {
            font-size: 1.3rem;
            line-height: 1.6;
            color: #4a3f3f;
            white-space: pre-wrap;
            word-wrap: break-word;
            min-height: 100px;
            border-right: 3px solid #ff6b8b;
            animation: blink 0.75s step-end infinite;
            padding: 5px;
        }

        @keyframes blink {
            from, to { border-color: transparent; }
            50% { border-color: #ff6b8b; }
        }

        /* GALLERY STYLES */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .gallery-item {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid white;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
        }

        .gallery-item:hover {
            transform: scale(1.03);
            box-shadow: 0 8px 20px rgba(255, 105, 180, 0.4);
        }

        .gallery-image-container {
            width: 100%;
            aspect-ratio: 1/1;
            overflow: hidden;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gallery-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover .gallery-image-container img {
            transform: scale(1.1);
        }

        .gallery-caption {
            padding: 10px;
            background: linear-gradient(145deg, #fff5f5, #ffe9e9);
            font-family: 'Caveat', cursive;
            font-size: 1rem;
            color: #5a4e4e;
            text-align: center;
            border-top: 2px dashed #ffb6c1;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Lightbox with Story */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .lightbox-content {
            max-width: 800px;
            width: 100%;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            animation: modalOpen 0.4s ease;
        }

        .lightbox-image-container {
            width: 100%;
            max-height: 60vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #f0f0f0;
        }

        .lightbox-image-container img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            max-height: 60vh;
        }

        .lightbox-story {
            padding: 25px;
            background: #fff5f5;
            font-family: 'Patrick Hand', cursive;
        }

        .lightbox-title {
            font-family: 'Caveat', cursive;
            font-size: 2rem;
            color: #ff6b8b;
            margin-bottom: 10px;
            border-bottom: 2px dashed #ffb6c1;
            padding-bottom: 10px;
        }

        .lightbox-description {
            font-size: 1.2rem;
            line-height: 1.6;
            color: #4a3f3f;
            white-space: pre-wrap;
        }

        .close-lightbox {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 3rem;
            cursor: pointer;
            z-index: 2001;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        /* Loading Spinner */
        .loading {
            text-align: center;
            padding: 30px;
            color: #ff6b8b;
            font-size: 1.2rem;
        }

        .loading i {
            font-size: 2rem;
            margin-bottom: 10px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Upload Button */
        .upload-btn {
            background: #ff6b8b;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-family: 'Caveat', cursive;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .upload-btn:hover {
            background: #ff8aa7;
            transform: scale(1.05);
        }

        .error-message {
            color: #ff6b8b;
            text-align: center;
            padding: 20px;
            font-size: 1.2rem;
        }

        /* VALENTINE'S BUTTON STYLES */
        .valentine-btn {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: #ff4d6d;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-family: 'Caveat', cursive;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(255, 77, 109, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
            border: 3px solid white;
            animation: pulse 2s infinite;
        }

        .valentine-btn:hover {
            background: #ff3355;
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 15px 35px rgba(255, 77, 109, 0.6);
        }

        @keyframes pulse {
            0% {
                transform: translateX(-50%) scale(1);
            }
            50% {
                transform: translateX(-50%) scale(1.05);
            }
            100% {
                transform: translateX(-50%) scale(1);
            }
        }

        /* Valentine Modal */
        .valentine-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 3000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .valentine-content {
            background: linear-gradient(145deg, #fff0f0, #ffe0e0);
            max-width: 500px;
            width: 90%;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            border: 5px solid white;
            box-shadow: 0 20px 40px rgba(255, 77, 109, 0.3);
            animation: valentinePop 0.5s ease;
        }

        @keyframes valentinePop {
            0% {
                opacity: 0;
                transform: scale(0.5);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .valentine-question {
            font-family: 'Caveat', cursive;
            font-size: 3rem;
            color: #ff4d6d;
            margin-bottom: 30px;
            text-shadow: 2px 2px 0 white;
        }

        .valentine-hearts {
            font-size: 3rem;
            margin-bottom: 20px;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .button-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }

        .yes-btn {
            background: #ff4d6d;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-family: 'Caveat', cursive;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid white;
            box-shadow: 0 5px 15px rgba(255, 77, 109, 0.4);
            flex: 1;
        }

        .yes-btn:hover {
            background: #ff3355;
            transform: scale(1.05);
        }

        .no-btn {
            background: #c0c0c0;
            color: #666;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-family: 'Caveat', cursive;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid #ddd;
            flex: 1;
        }

        .no-btn.active {
            background: #4a4a4a;
            color: white;
            cursor: pointer;
            border: 3px solid #ff4d6d;
        }

        .no-btn.disabled {
            background: #2a2a2a;
            color: #444;
            cursor: not-allowed;
            opacity: 0.3;
            pointer-events: none;
            border: 3px solid #111;
        }

        .valentine-message {
            font-family: 'Patrick Hand', cursive;
            font-size: 1.5rem;
            color: #4a3f3f;
            margin-top: 30px;
            padding: 20px;
            background: white;
            border-radius: 15px;
            border: 3px dashed #ff4d6d;
        }

        .valentine-message i {
            color: #ff4d6d;
            margin: 0 10px;
        }

        .close-valentine {
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 2.5rem;
            color: white;
            cursor: pointer;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        /* OPEN WHEN... STYLES */
        .open-when-section {
            max-width: 1200px;
            width: 100%;
            margin: 80px auto 50px;
            padding: 40px 30px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50px;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 40px rgba(255, 105, 180, 0.2);
            border: 2px solid white;
        }

        .open-when-title {
            font-family: 'Caveat', cursive;
            font-size: 3.5rem;
            color: #ff6b8b;
            text-align: center;
            margin-bottom: 40px;
            text-shadow: 3px 3px 0 white;
            position: relative;
        }

        .open-when-title i {
            margin: 0 20px;
            animation: heartbeat 1.5s ease-in-out infinite;
            color: #ff4d6d;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .open-when-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            padding: 20px;
        }

        .open-when-card {
            background: linear-gradient(145deg, #ffffff, #fff0f0);
            border-radius: 30px;
            padding: 30px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 4px solid white;
            box-shadow: 0 10px 25px rgba(255, 105, 180, 0.3);
            position: relative;
            overflow: hidden;
        }

        .open-when-card::before {
            content: 'üíå';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 5rem;
            opacity: 0.1;
            transform: rotate(15deg);
        }

        .open-when-card:hover {
            transform: translateY(-15px) rotate(2deg);
            box-shadow: 0 20px 40px rgba(255, 77, 109, 0.4);
            background: linear-gradient(145deg, #fff5f5, #ffe0e0);
        }

        .open-when-card i {
            font-size: 3.5rem;
            color: #ff6b8b;
            margin-bottom: 15px;
            transition: transform 0.3s ease;
        }

        .open-when-card:hover i {
            transform: scale(1.2);
        }

        .open-when-card h3 {
            font-family: 'Caveat', cursive;
            font-size: 2rem;
            color: #5a4e4e;
            margin-bottom: 10px;
        }

        .open-when-card p {
            font-family: 'Patrick Hand', cursive;
            font-size: 1.1rem;
            color: #888;
        }

        .open-when-card .seal {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: #ff6b8b;
            color: white;
            padding: 5px 15px;
            border-radius: 30px;
            font-size: 0.9rem;
            transform: rotate(-5deg);
            border: 2px solid white;
        }

        /* Open Modal */
        .open-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(12px);
            z-index: 4000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .open-modal-content {
            background: #fff9f9;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            border-radius: 40px;
            padding: 40px;
            position: relative;
            border: 6px solid white;
            box-shadow: 0 30px 60px rgba(255, 77, 109, 0.4);
            animation: openLetter 0.6s ease;
        }

        @keyframes openLetter {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(-10deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        .close-open {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 2.5rem;
            cursor: pointer;
            color: #ff6b8b;
            transition: transform 0.3s;
            z-index: 10;
        }

        .close-open:hover {
            transform: rotate(90deg) scale(1.2);
        }

        .open-modal-header {
            font-family: 'Caveat', cursive;
            font-size: 3rem;
            color: #ff6b8b;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px dashed #ffb6c1;
            padding-bottom: 20px;
        }

        .open-modal-body {
            font-family: 'Patrick Hand', cursive;
            font-size: 1.4rem;
            line-height: 1.8;
            color: #4a3f3f;
            white-space: pre-wrap;
            min-height: 200px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 30px;
            border: 2px dashed #ffb6c1;
        }

        .open-modal-footer {
            text-align: center;
            margin-top: 30px;
        }

        .open-close-btn {
            background: #ff6b8b;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid white;
            box-shadow: 0 5px 15px rgba(255, 77, 109, 0.4);
        }

        .open-close-btn:hover {
            background: #ff4d6d;
            transform: scale(1.05);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .gallery-grid {
                grid-template-columns: 1fr;
            }
            
            .lightbox-title {
                font-size: 1.6rem;
            }
            
            .lightbox-description {
                font-size: 1rem;
            }
            
            .modal-content {
                padding: 20px;
                width: 95%;
            }
            
            .valentine-question {
                font-size: 2.5rem;
            }
            
            .button-container {
                flex-direction: column;
            }
            
            .valentine-btn {
                font-size: 1.4rem;
                padding: 12px 30px;
            }
            
            .open-when-title {
                font-size: 2.5rem;
            }
            
            .open-when-grid {
                grid-template-columns: 1fr;
            }
            
            .open-modal-header {
                font-size: 2.2rem;
            }
            
            .open-modal-body {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Left Polaroid - Louise -->
        <div class="polaroid left" id="leftPolaroid">
            <div class="tape"></div>
            <div class="photo-container">
                <img src="louise.jpg" alt="Louise" class="photo">
                <div class="hover-text">
                    <i class="fas fa-envelope"></i> For Louise <i class="fas fa-heart"></i>
                </div>
            </div>
            <div class="caption">
                <i class="fas fa-star"></i> My Louise <i class="fas fa-star"></i>
            </div>
        </div>

        <!-- Right Polaroid - Us -->
        <div class="polaroid right" id="rightPolaroid">
            <div class="tape"></div>
            <div class="photo-container">
                <img src="us-main.jpg" alt="Us" class="photo">
                <div class="hover-text">
                    <i class="fas fa-camera"></i> Our Memories <i class="fas fa-heart"></i>
                </div>
            </div>
            <div class="caption">
                <i class="fas fa-infinity"></i> You & Me <i class="fas fa-infinity"></i>
            </div>
        </div>
    </div>

    <!-- Valentine's Button -->
    <button class="valentine-btn" id="valentineBtn">
        <i class="fas fa-heart"></i> Click Me! <i class="fas fa-heart"></i>
    </button>

    <!-- Valentine's Modal -->
    <div class="valentine-modal" id="valentineModal">
        <span class="close-valentine" id="closeValentine">&times;</span>
        <div class="valentine-content">
            <div class="valentine-hearts">
                ‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è
            </div>
            <div class="valentine-question" id="valentineQuestion">
                Can you be my Valentine?
            </div>
            
            <div class="button-container">
                <button class="yes-btn" id="yesBtn">YES</button>
                <button class="no-btn" id="noBtn">NO</button>
            </div>
            
            <div id="valentineResponse" style="display: none;">
                <div class="valentine-message">
                    <i class="fas fa-heart"></i> chat ka ng "HEART" sa convo natin <i class="fas fa-heart"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Message Modal -->
    <div class="modal" id="messageModal">
        <div class="modal-content">
            <span class="close-modal" id="closeMessageModal">&times;</span>
            <div class="modal-title">
                <i class="fas fa-envelope-open-text"></i> For My Love, Louise
            </div>
            <div class="typewriter-text" id="typewriterMessage"></div>
        </div>
    </div>

    <!-- Gallery Modal -->
    <div class="modal" id="galleryModal">
        <div class="modal-content">
            <span class="close-modal" id="closeGalleryModal">&times;</span>
            <div class="modal-title">
                <i class="fas fa-images"></i> Our Memories
            </div>
            <div id="galleryGrid" class="gallery-grid"></div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="upload-btn" onclick="window.location.href='https://github.com/dalecpe/love-for-louise/upload/main'">
                    <i class="fas fa-upload"></i> Add New Memory
                </button>
                <p style="color: #888; margin-top: 10px; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> Click to upload new pictures, then edit memories.json
                </p>
            </div>
        </div>
    </div>

    <!-- Lightbox with Story -->
    <div class="lightbox" id="lightbox">
        <span class="close-lightbox" id="closeLightbox">&times;</span>
        <div class="lightbox-content">
            <div class="lightbox-image-container">
                <img src="" alt="Memory" id="lightboxImg">
            </div>
            <div class="lightbox-story">
                <div class="lightbox-title" id="lightboxTitle"></div>
                <div class="lightbox-description" id="lightboxDescription"></div>
            </div>
        </div>
    </div>

    <!-- OPEN WHEN... Section -->
    <div class="open-when-section">
        <h2 class="open-when-title">
            <i class="fas fa-envelope"></i> Open When... <i class="fas fa-envelope"></i>
        </h2>
        <div class="open-when-grid" id="openWhenGrid"></div>
    </div>

    <!-- Open When Modal -->
    <div class="open-modal" id="openModal">
        <div class="open-modal-content">
            <span class="close-open" id="closeOpen">&times;</span>
            <div class="open-modal-header" id="openModalHeader"></div>
            <div class="open-modal-body" id="openModalBody"></div>
            <div class="open-modal-footer">
                <button class="open-close-btn" id="closeOpenBtn">Close Letter</button>
            </div>
        </div>
    </div>

    <script>
        // Hearts Cursor Effect
        document.addEventListener('mousemove', function(e) {
            if (Math.random() < 0.1) {
                const heart = document.createElement('div');
                heart.className = 'heart-cursor';
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.left = (e.pageX - 10) + 'px';
                heart.style.top = (e.pageY - 10) + 'px';
                heart.style.fontSize = Math.random() * 15 + 15 + 'px';
                document.body.appendChild(heart);

                setTimeout(() => {
                    heart.remove();
                }, 1500);
            }
        });

        // Message for Louise
        const messageForLouise = `My Dearest kairi(lowisie, loys, Louise),

Mahal na mahal kita palagi kahit mayat maya tayo nag away hahahah tangina i miss you. Ever since the day we met, I am constantly inlove with you. YES, INLOVE hindi yung pabawas or what. SOBRA KITANG MAHAL KAHIT NA ANONG MANGYARE.
I always say sa sarili ko "how to be better for you without having any changes sa mga behaviors na gusto mo. I'm sorry if sometimes we go through hell before coming back into what is us talaga. Pero love really is like that diba po?
Pasensya kana sa mga araw na hindi tayo ayos lalo na sa mga kasalanan ko. I hope magkaayos tayo after this. hehe

This is the only thing I could give to you as of now. I dont have any money or materials to give to you. I only have knowledge and this para lang ma express ko yung pag mamahal ko sayo. I miss you, love. Balik kana sa akin.

Mahal na mahal kita, palagi.

ikaw at ikaw lang ang lagi,
Dalevx ‚ù§Ô∏è`;

        // Valentine's functionality
        const valentineBtn = document.getElementById('valentineBtn');
        const valentineModal = document.getElementById('valentineModal');
        const closeValentine = document.getElementById('closeValentine');
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const valentineResponse = document.getElementById('valentineResponse');
        const valentineQuestion = document.getElementById('valentineQuestion');
        
        let noClickCount = 0;
        
        // Open Valentine modal
        valentineBtn.addEventListener('click', function() {
            valentineModal.style.display = 'flex';
            // Reset to initial state
            noBtn.classList.remove('disabled');
            noBtn.classList.add('active');
            noBtn.textContent = 'NO';
            noBtn.style.transform = 'translate(0, 0)';
            valentineResponse.style.display = 'none';
            valentineQuestion.style.display = 'block';
            valentineQuestion.textContent = 'Can you be my Valentine?';
            yesBtn.style.display = 'block';
            noBtn.style.display = 'block';
            noClickCount = 0;
        });
        
        // Close Valentine modal
        closeValentine.addEventListener('click', function() {
            valentineModal.style.display = 'none';
        });
        
        // YES button
        yesBtn.addEventListener('click', function() {
            valentineQuestion.style.display = 'none';
            noBtn.style.display = 'none';
            yesBtn.style.display = 'none';
            valentineResponse.style.display = 'block';
            
            // Confetti effect
            confetti({
                particleCount: 150,
                spread: 100,
                origin: { y: 0.6 }
            });
        });
        
        // NO button
        noBtn.addEventListener('click', function() {
            noClickCount++;
            
            if (noClickCount === 1) {
                // First click - move NO button to random position
                const randomX = Math.random() * 200 - 100;
                const randomY = Math.random() * 100 - 50;
                noBtn.style.transform = `translate(${randomX}px, ${randomY}px)`;
                noBtn.textContent = 'Sigurado ka?';
            } else if (noClickCount === 2) {
                // Second click - move further
                const randomX = Math.random() * 300 - 150;
                const randomY = Math.random() * 200 - 100;
                noBtn.style.transform = `translate(${randomX}px, ${randomY}px)`;
                noBtn.textContent = 'Isipin mo muna';
            } else if (noClickCount === 3) {
                // Third click - disable NO button
                noBtn.classList.remove('active');
                noBtn.classList.add('disabled');
                noBtn.textContent = 'Wala na ‚ù§Ô∏è';
                noBtn.style.transform = 'translate(0, 0)';
            }
        });

        // Load memories from JSON file
        async function loadMemories() {
            const galleryGrid = document.getElementById('galleryGrid');
            galleryGrid.innerHTML = '<div class="loading"><i class="fas fa-heart"></i><br>Loading memories...</div>';
            
            try {
                // Add timestamp to prevent caching
                const response = await fetch(`memories.json?t=${Date.now()}`);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (!data.memories || data.memories.length === 0) {
                    galleryGrid.innerHTML = '<div class="error-message">No memories yet. Click "Add New Memory" to start!</div>';
                    return;
                }
                
                galleryGrid.innerHTML = '';
                
                // Sort memories by id to ensure order
                const sortedMemories = data.memories.sort((a, b) => a.id - b.id);
                
                sortedMemories.forEach(memory => {
                    const item = document.createElement('div');
                    item.className = 'gallery-item';
                    
                    // Create image with error handling
                    const img = document.createElement('img');
                    img.src = memory.url;
                    img.alt = memory.title;
                    img.onerror = function() {
                        this.onerror = null;
                        this.src = 'https://via.placeholder.com/300x300/ffb6c1/ffffff?text=Photo+Not+Found';
                        console.log(`Failed to load: ${memory.url}`);
                    };
                    
                    const imgContainer = document.createElement('div');
                    imgContainer.className = 'gallery-image-container';
                    imgContainer.appendChild(img);
                    
                    const caption = document.createElement('div');
                    caption.className = 'gallery-caption';
                    caption.innerHTML = `<i class="fas fa-heart"></i> ${memory.title} <i class="fas fa-heart"></i>`;
                    
                    item.appendChild(imgContainer);
                    item.appendChild(caption);
                    
                    item.addEventListener('click', () => {
                        document.getElementById('lightboxImg').src = memory.url;
                        document.getElementById('lightboxTitle').textContent = memory.title;
                        document.getElementById('lightboxDescription').textContent = memory.story;
                        document.getElementById('lightbox').style.display = 'flex';
                    });
                    
                    galleryGrid.appendChild(item);
                });
                
                console.log(`Loaded ${sortedMemories.length} memories successfully`);
                
            } catch (error) {
                console.error('Error loading memories:', error);
                galleryGrid.innerHTML = `<div class="error-message">
                    <i class="fas fa-exclamation-circle"></i><br>
                    Failed to load memories.<br>
                    <small>${error.message}</small>
                </div>`;
            }
        }

        // OPEN WHEN... Letters Data - UPDATED WITH YOUR MESSAGES
        const openWhenLetters = [
            {
                icon: 'fa-face-frown',
                title: 'You\'re Sad',
                message: `Remember when we are planning our future together and spend time for each other.`
            },
            {
                icon: 'fa-face-smile',
                title: 'You\'re Happy',
                message: `Always remember why we are happy, because of each other.`
            },
            {
                icon: 'fa-face-angry',
                title: 'You\'re Angry',
                message: `Deep breath and drink water. Stay calm, I am always here.`
            },
            {
                icon: 'fa-face-tired',
                title: 'You\'re Tired',
                message: `Think of panpan as me. Cuddle and hug tightly so that you can think of me.`
            },
            {
                icon: 'fa-face-kiss',
                title: 'You Miss Me',
                message: `Take a look at the pictures and the time we always bond. ALSO REMEMBER THE FIRST DATE! ‚ù§Ô∏è`
            },
            {
                icon: 'fa-star',
                title: 'You Need Reminded',
                message: `I love you always and forever. Kahit na mamatay na ako, ikaw padin ang hahanap hanapin ko. I will always stay by your side.`
            },
            {
                icon: 'fa-heart',
                title: 'Just Because',
                message: `YOU ARE ALWAYS MY ONLY AND MY NUMBER ONE. WALANG MAG BABAGO! ‚ù§Ô∏è`
            },
            {
                icon: 'fa-music',
                title: 'Need a Song',
                message: `Open Spotify and play "You!"`
            }
        ];

        // Load Open When letters
        const openWhenGrid = document.getElementById('openWhenGrid');
        
        openWhenLetters.forEach(letter => {
            const card = document.createElement('div');
            card.className = 'open-when-card';
            
            card.innerHTML = `
                <i class="fas ${letter.icon}"></i>
                <h3>Open When...</h3>
                <p>${letter.title}</p>
                <div class="seal">üíå</div>
            `;
            
            card.addEventListener('click', () => {
                document.getElementById('openModalHeader').textContent = `Open When ${letter.title}`;
                document.getElementById('openModalBody').textContent = letter.message;
                document.getElementById('openModal').style.display = 'flex';
            });
            
            openWhenGrid.appendChild(card);
        });

        // Typewriter effect
        function typeWriter(element, text, speed = 50) {
            let i = 0;
            element.innerHTML = '';
            function typing() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(typing, speed);
                }
            }
            typing();
        }

        // Event listeners
        document.getElementById('leftPolaroid').addEventListener('click', function() {
            const modal = document.getElementById('messageModal');
            const typewriterEl = document.getElementById('typewriterMessage');
            modal.style.display = 'flex';
            typeWriter(typewriterEl, messageForLouise, 30);
        });

        document.getElementById('rightPolaroid').addEventListener('click', function() {
            document.getElementById('galleryModal').style.display = 'flex';
            loadMemories(); // Load memories every time gallery opens
        });

        // Close buttons
        document.getElementById('closeMessageModal').addEventListener('click', function() {
            document.getElementById('messageModal').style.display = 'none';
        });

        document.getElementById('closeGalleryModal').addEventListener('click', function() {
            document.getElementById('galleryModal').style.display = 'none';
        });

        document.getElementById('closeLightbox').addEventListener('click', function() {
            document.getElementById('lightbox').style.display = 'none';
        });

        // Close modal when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.style.display = 'none';
            }
            if (e.target.classList.contains('lightbox')) {
                e.target.style.display = 'none';
            }
            if (e.target.classList.contains('valentine-modal') && e.target !== valentineModal) {
                valentineModal.style.display = 'none';
            }
        });

        // Open When modal close
        const openModal = document.getElementById('openModal');
        const closeOpen = document.getElementById('closeOpen');
        const closeOpenBtn = document.getElementById('closeOpenBtn');

        function closeOpenModal() {
            openModal.style.display = 'none';
        }

        closeOpen.addEventListener('click', closeOpenModal);
        closeOpenBtn.addEventListener('click', closeOpenModal);

        window.addEventListener('click', function(e) {
            if (e.target === openModal) {
                closeOpenModal();
            }
        });

        // Pre-load images for better performance
        window.addEventListener('load', function() {
            const imagesToPreload = ['us1.jpeg', 'us2.jpeg', 'us3.jpeg', 'us4.jpeg'];
            imagesToPreload.forEach(src => {
                const img = new Image();
                img.src = src;
            });
        });
    </script>
</body>
</html>
